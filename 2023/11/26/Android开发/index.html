<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;zh-tw&quot;,&quot;en&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Android开发 | 个人博客</title><meta name="author" content="Docker"><meta name="copyright" content="Docker"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="activity的管理：复习：定义一个activity—— 创建一个Activity子类——重写Activity中的onCreate方法—— 在AndroidManifest.xml中的Activity进行注册 启动一个Activity——创建Intent意图对象（可以理解成一个封装对象）——调用setClass设置要启动哪个Activity——调用startActivity进行跳转 BackSt">
<meta property="og:type" content="article">
<meta property="og:title" content="Android开发">
<meta property="og:url" content="http://example.com/2023/11/26/Android%E5%BC%80%E5%8F%91/index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="activity的管理：复习：定义一个activity—— 创建一个Activity子类——重写Activity中的onCreate方法—— 在AndroidManifest.xml中的Activity进行注册 启动一个Activity——创建Intent意图对象（可以理解成一个封装对象）——调用setClass设置要启动哪个Activity——调用startActivity进行跳转 BackSt">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg">
<meta property="article:published_time" content="2023-11-26T10:39:46.000Z">
<meta property="article:modified_time" content="2023-11-26T10:40:27.273Z">
<meta property="article:author" content="Docker">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Android">
<meta property="article:tag" content="APP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/11/26/Android%E5%BC%80%E5%8F%91/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Android开发',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2023-11-26 18:40:27'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-share"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="个人博客"><span class="site-name">个人博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fas fa-share"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Android开发</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-11-26T10:39:46.000Z" title="发表于 2023-11-26 18:39:46">2023-11-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-11-26T10:40:27.273Z" title="更新于 2023-11-26 18:40:27">2023-11-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/">Android</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Android开发"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="activity的管理："><a href="#activity的管理：" class="headerlink" title="activity的管理："></a>activity的管理：</h1><p>复习：定义一个activity<br>—— 创建一个Activity子类<br>——重写Activity中的onCreate方法<br>—— 在AndroidManifest.xml中的Activity进行注册</p>
<h2 id="启动一个Activity"><a href="#启动一个Activity" class="headerlink" title="启动一个Activity"></a>启动一个Activity</h2><p>——创建Intent意图对象（可以理解成一个封装对象<br>）<br>——调用setClass设置要启动哪个Activity<br>——调用startActivity进行跳转</p>
<h2 id="BackStack回退栈"><a href="#BackStack回退栈" class="headerlink" title="BackStack回退栈"></a>BackStack回退栈</h2><p>1、先进后出	2、方便记录后维护</p>
<h1 id="Menu分类："><a href="#Menu分类：" class="headerlink" title="Menu分类："></a>Menu分类：</h1><h2 id="选项菜单-OptionMenu"><a href="#选项菜单-OptionMenu" class="headerlink" title="选项菜单(OptionMenu)"></a>选项菜单(OptionMenu)</h2><h2 id="上下文菜单-ContextMenu"><a href="#上下文菜单-ContextMenu" class="headerlink" title="上下文菜单(ContextMenu)"></a>上下文菜单(ContextMenu)</h2><h2 id="弹出菜单-PopupMenu"><a href="#弹出菜单-PopupMenu" class="headerlink" title="弹出菜单(PopupMenu)"></a>弹出菜单(PopupMenu)</h2><h3 id="OptionMenu："><a href="#OptionMenu：" class="headerlink" title="OptionMenu："></a>OptionMenu：</h3><pre><code>showAsAction属性值：always：直接在标题显示
never：不显示
withText：控制图标贺文本一起显示
ifRoot：有空间就显示
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//创建OptionMenu</span><br><span class="line">  @Override</span><br><span class="line">  public boolean onCreateOptionsMenu(Menu menu) &#123;</span><br><span class="line">      //加载资源文件</span><br><span class="line">      getMenuInflater ().inflate ( R.menu.option,menu );</span><br><span class="line">      return true;</span><br><span class="line">  &#125;</span><br><span class="line">  //OptionMenu添加事件方法</span><br><span class="line">  @Override</span><br><span class="line">  public boolean onOptionsItemSelected(@NonNull MenuItem item) &#123;</span><br><span class="line">      switch (item.getItemId ())&#123;</span><br><span class="line">          case R.id.menu1:</span><br><span class="line">              Toast.makeText ( this, &quot;保存&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">              break;</span><br><span class="line">          case R.id.menu2:</span><br><span class="line">              Toast.makeText ( this, &quot;设置&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">              break;</span><br><span class="line">      &#125;</span><br><span class="line">      return super.onOptionsItemSelected ( item );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="ContextMenu："><a href="#ContextMenu：" class="headerlink" title="ContextMenu："></a>ContextMenu：</h3><pre><code>长按某个view不放，就会在屏幕中间弹出ContextMeun
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">        //contextMenu:演示ContextMenu</span><br><span class="line">        //4、为按钮设置上下操作模式，要进入上下操作模式就要先创建 ActionMode.Callback对象</span><br><span class="line">        //①实现ActionMode CallBack</span><br><span class="line">        //②在view的长按事件中去启动上下文操作模式</span><br><span class="line">        </span><br><span class="line"> //先创建 ActionMode.Callback对象</span><br><span class="line">            ActionMode.Callback cb=new ActionMode.Callback () &#123;</span><br><span class="line">        //创建，在启动上下文操作模式（startActionMode(Callback)）是调用</span><br><span class="line">        @Override</span><br><span class="line">        public boolean onCreateActionMode(ActionMode mode, Menu menu) &#123;</span><br><span class="line">            Log.i ( &quot;TAG&quot;,&quot;创建&quot; );</span><br><span class="line">            getMenuInflater ().inflate ( R.menu.contextmenu,menu );</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        //在创建方法后进行调用</span><br><span class="line">        @Override</span><br><span class="line">        public boolean onPrepareActionMode(ActionMode mode, Menu menu) &#123;</span><br><span class="line">            Log.i ( &quot;TAG&quot;,&quot;准备&quot; );</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        //单击按钮时</span><br><span class="line">        @Override</span><br><span class="line">        public boolean onActionItemClicked(ActionMode mode, MenuItem item) &#123;</span><br><span class="line">            switch (item.getItemId ())&#123;</span><br><span class="line">                case R.id.up_name:</span><br><span class="line">                    Toast.makeText ( mode1_activity.this, &quot;重命名&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">                    break;</span><br><span class="line">                case R.id.del:</span><br><span class="line">                    Toast.makeText ( mode1_activity.this, &quot;删除&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">                    break;</span><br><span class="line">            &#125;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        //上下文操作模式结束时被调用</span><br><span class="line">        @Override</span><br><span class="line">        public void onDestroyActionMode(ActionMode mode) &#123;</span><br><span class="line">            Log.i ( &quot;TAG&quot;,&quot;结束&quot; );</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">//调用</span><br><span class="line">        findViewById ( R.id.contextMenu ).setOnClickListener ( new View.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                startActionMode ( cb );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line"></span><br><span class="line">//如果不进入上下本模式</span><br><span class="line">//1、注册</span><br><span class="line">        registerForContextMenu ( findViewById ( R.id.contextMenu ) );</span><br><span class="line"> //2、创建 覆盖</span><br><span class="line"> //2、创建 覆盖onCreateContextMenu</span><br><span class="line">    @Override</span><br><span class="line">    public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo) &#123;</span><br><span class="line">        getMenuInflater ().inflate ( R.menu.contextmenu,menu );//</span><br><span class="line">        super.onCreateContextMenu ( menu, v, menuInfo );</span><br><span class="line">    &#125;</span><br><span class="line">//3、菜单项的操作onContextItemSelected</span><br><span class="line">            @Override</span><br><span class="line">    public boolean onContextItemSelected(@NonNull MenuItem item) &#123;</span><br><span class="line">        switch (item.getItemId ())&#123;</span><br><span class="line">            case R.id.up_name:</span><br><span class="line">                Toast.makeText ( this, &quot;重命名&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.del:</span><br><span class="line">                Toast.makeText ( this, &quot;删除&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        return super.onContextItemSelected ( item );</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="PopupMenu："><a href="#PopupMenu：" class="headerlink" title="PopupMenu："></a>PopupMenu：</h3><pre><code>按一下某个view，一般会在下方弹出
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">//popupMenu:演示PopupMenu</span><br><span class="line">  final Button button=findViewById ( R.id.popupMenu );</span><br><span class="line">  button.setOnClickListener ( new View.OnClickListener () &#123;</span><br><span class="line">      @Override</span><br><span class="line">      public void onClick(View v) &#123;</span><br><span class="line">          // ①实例化PopupMenu对象（参数2：被锚定的view）</span><br><span class="line">          PopupMenu popupMenu=new PopupMenu ( mode1_activity.this, button);</span><br><span class="line">          // ②加载菜单资源：利用MenuInflater将Menu资源加载到PopupMenu.getMenu(),所返回的Menu对象中</span><br><span class="line">          //将R.meun.contextmenu对于的菜单资源加载到弹出式菜单中</span><br><span class="line">          popupMenu.getMenuInflater ().inflate ( R.menu.popupmenu,popupMenu.getMenu () );</span><br><span class="line">          // ③为PopupMenu设置点击监听器</span><br><span class="line">          popupMenu.setOnMenuItemClickListener ( new PopupMenu.OnMenuItemClickListener () &#123;</span><br><span class="line">              @Override</span><br><span class="line">              public boolean onMenuItemClick(MenuItem item) &#123;</span><br><span class="line">                  switch (item.getItemId ())&#123;</span><br><span class="line">                      case R.id.copy:</span><br><span class="line">                          Toast.makeText ( mode1_activity.this, &quot;复制&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">                          break;</span><br><span class="line">                      case R.id.del1:</span><br><span class="line">                          Toast.makeText ( mode1_activity.this, &quot;删除&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">                          break;</span><br><span class="line">                  &#125;</span><br><span class="line">                  return true;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125; );</span><br><span class="line">          // ④千万不要忘show</span><br><span class="line">          popupMenu.show ();</span><br><span class="line">      &#125;</span><br><span class="line">  &#125; );</span><br></pre></td></tr></table></figure>
<h1 id="java编写menu："><a href="#java编写menu：" class="headerlink" title="java编写menu："></a>java编写menu：</h1><p><strong><img src="http://blog-bucketend.oss-cn-beijing.aliyuncs.com/img/blog/20200302181602120.png" alt="加粗样式"></strong></p>
<h2 id="对话框"><a href="#对话框" class="headerlink" title="对话框"></a>对话框</h2><h3 id="1、普通对话框（一）："><a href="#1、普通对话框（一）：" class="headerlink" title="1、普通对话框（一）："></a>1、普通对话框（一）：</h3><p>利用AlterDialog中的构建器(Builder)来完成。<br>通过方法有：setTitle、setMessage、create、show<br>三个事件：<br>——setPositiveButton：确定<br>——setNegativeButton：否<br>——setNeutralButton：取消</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">    private void showdialog1() &#123;</span><br><span class="line">        /*</span><br><span class="line">        * AlertDialog</span><br><span class="line">        * AlerDialog的构造方法是被修饰为protected</span><br><span class="line">        * 因此包外是无法使用的，所以我们利用构建器(Builder)</span><br><span class="line">        * */</span><br><span class="line">        AlertDialog.Builder builder=new AlertDialog.Builder ( this );</span><br><span class="line">//        设置对话框标题</span><br><span class="line">        builder.setTitle ( &quot;提示&quot; );</span><br><span class="line">//        设置内容</span><br><span class="line">        builder.setMessage ( &quot;你是否要退出程序！&quot; );</span><br><span class="line">//         设置按钮</span><br><span class="line">        builder.setPositiveButton ( &quot;确定&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                activity_Dialog.this.finish ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        builder.setNegativeButton (&quot;取消&quot;,null  );</span><br><span class="line">//        builder.setNeutralButton (  );</span><br><span class="line">//        builder.create ();</span><br><span class="line">        builder.show ();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、普通对话框（二）："><a href="#2、普通对话框（二）：" class="headerlink" title="2、普通对话框（二）："></a>2、普通对话框（二）：</h3><p>用到几个常量：BUTTON_POSITIVE、BUTTON_NEGATIVE、BUTTON_NEUTRAL</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//    打分式对话框</span><br><span class="line">    private void showdialog2() &#123;</span><br><span class="line">        AlertDialog dialog=new AlertDialog.Builder (this).create ();</span><br><span class="line">        dialog.setTitle ( &quot;评价&quot; );</span><br><span class="line">        dialog.setMessage ( &quot;请为本次服务打分！&quot; );</span><br><span class="line">        //BUTTON_POSITIVE：常量</span><br><span class="line">        dialog.setButton ( DialogInterface.BUTTON_POSITIVE, &quot;5分&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                Toast.makeText ( activity_Dialog.this, &quot;您选择了5分&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.setButton ( DialogInterface.BUTTON_NEGATIVE, &quot;3分&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                Toast.makeText ( activity_Dialog.this, &quot;您选择了3分&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.setButton ( DialogInterface.BUTTON_NEUTRAL, &quot;1分&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                Toast.makeText ( activity_Dialog.this, &quot;您选择了1分&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.show ();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3、列表对话框："><a href="#3、列表对话框：" class="headerlink" title="3、列表对话框："></a>3、列表对话框：</h3><p>有一个方法:setItems</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//    列表对话框</span><br><span class="line">    private void showdialog3() &#123;</span><br><span class="line">        final String[] strings=&#123;&quot;我是1&quot;,&quot;我是2&quot;,&quot;我是3&quot;,&quot;我是4&quot;&#125;;</span><br><span class="line">        AlertDialog.Builder dialog=new AlertDialog.Builder ( this );</span><br><span class="line">        dialog.setTitle ( &quot;请选择&quot; );</span><br><span class="line">        dialog.setItems ( strings, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                /*</span><br><span class="line">                which:strings的索引从0开始</span><br><span class="line">                * */</span><br><span class="line">                Toast.makeText ( activity_Dialog.this, strings[which], Toast.LENGTH_SHORT ).show ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.show ();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4、单选对话框："><a href="#4、单选对话框：" class="headerlink" title="4、单选对话框："></a>4、单选对话框：</h3><p>方法：setSingleChoiceItems </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//  单选对话框</span><br><span class="line">    int s = 0;</span><br><span class="line">    private void showdialog4() &#123;</span><br><span class="line">        final String[] strings=&#123;&quot;赵丽颖&quot;,&quot;蓝洁瑛&quot;,&quot;范冰冰&quot;,&quot;王源&quot;,&quot;唐嫣&quot;,&quot;杨幂&quot;&#125;;</span><br><span class="line">        AlertDialog.Builder dialog=new AlertDialog.Builder ( this );</span><br><span class="line">        dialog.setTitle ( &quot;你喜欢谁？&quot; );</span><br><span class="line">        /*</span><br><span class="line">        * strings:数组</span><br><span class="line">        * 0:是默认选中的</span><br><span class="line">        * */</span><br><span class="line">        dialog.setSingleChoiceItems ( strings, 0, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                s =which;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.setPositiveButton ( &quot;确定&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                Toast.makeText ( activity_Dialog.this, strings[str[0]],Toast.LENGTH_SHORT ).show ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.show ();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5、多选对话框："><a href="#5、多选对话框：" class="headerlink" title="5、多选对话框："></a>5、多选对话框：</h3><p>方法：setMultiChoiceItems</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">//  多选对话框</span><br><span class="line">    private void showdialog5() &#123;</span><br><span class="line">        final String[] strings=&#123;&quot;赵丽颖&quot;,&quot;蓝洁瑛&quot;,&quot;范冰冰&quot;,&quot;王源&quot;,&quot;唐嫣&quot;,&quot;杨幂&quot;&#125;;</span><br><span class="line">        final boolean[] start=&#123;true,true,false,false,false,false&#125;;</span><br><span class="line">        AlertDialog.Builder dialog=new AlertDialog.Builder ( this );</span><br><span class="line">        dialog.setTitle ( &quot;你选择那些！&quot; );</span><br><span class="line">        dialog.setMultiChoiceItems ( strings, start, new DialogInterface.OnMultiChoiceClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which, boolean isChecked) &#123;</span><br><span class="line">                /*</span><br><span class="line">                 * dialog:对象控件</span><br><span class="line">                 * which:索引</span><br><span class="line">                 * isChecked:状态</span><br><span class="line">                 * 当改变复选框状态时触发</span><br><span class="line">                 * */</span><br><span class="line">                start[which]=isChecked;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.setPositiveButton ( &quot;确定&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                String mes=&quot;&quot;;</span><br><span class="line">                for (int i=0;i&lt;strings.length;i++) &#123;</span><br><span class="line">                    if (start[i])&#123;</span><br><span class="line">                        mes+=strings[i]+&quot;、&quot;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                Toast.makeText ( activity_Dialog.this, mes, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        dialog.show ();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6、等待对话框-progressDialog-："><a href="#6、等待对话框-progressDialog-：" class="headerlink" title="6、等待对话框(progressDialog)："></a>6、等待对话框(progressDialog)：</h3><p>方法：setCancelable</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//  等待对话框</span><br><span class="line">    private void showdialog6() &#123;</span><br><span class="line">        ProgressDialog progressDialog=new ProgressDialog ( this );</span><br><span class="line">        progressDialog.setTitle ( &quot;请等待&quot; );</span><br><span class="line">        progressDialog.setMessage ( &quot;正在加载...&quot; );</span><br><span class="line">        progressDialog.setCancelable ( false );//默认为true（是否可返回）</span><br><span class="line">        progressDialog.show ();</span><br><span class="line">        progressDialog.dismiss ();//关闭对话框</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="7、进度条对话框"><a href="#7、进度条对话框" class="headerlink" title="7、进度条对话框"></a>7、进度条对话框</h3><p>方法：setIndeterminate、setProgressStyle(ProgressDialog.STYLE.HORIZONTAL)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//  进度条对话框</span><br><span class="line">    private void showdialog7() &#123;</span><br><span class="line">        final ProgressDialog progressDialog=new ProgressDialog ( this );</span><br><span class="line">        progressDialog.setTitle ( &quot;下载中&quot; );</span><br><span class="line">        progressDialog.setMessage ( &quot;正在加载...&quot; );</span><br><span class="line">        progressDialog.setIndeterminate ( false );//默认：false，设置为模糊的</span><br><span class="line">//       设置样式</span><br><span class="line">        progressDialog.setProgressStyle ( ProgressDialog.STYLE_HORIZONTAL );</span><br><span class="line">        progressDialog.show ();</span><br><span class="line">//        progressDialog.setProgress ( 30 );</span><br><span class="line">        new Thread ( )&#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                for (int i=0;i&lt;=100;i++)&#123;</span><br><span class="line">                    progressDialog.setProgress ( i );</span><br><span class="line">                    try &#123;</span><br><span class="line">                        Thread.sleep ( 40 );</span><br><span class="line">                    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace ();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                progressDialog.dismiss ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start ();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="8、输入对话框"><a href="#8、输入对话框" class="headerlink" title="8、输入对话框"></a>8、输入对话框</h3><p>方法：setView</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//  输入对话框</span><br><span class="line">private void showdialog8() &#123;</span><br><span class="line">    final EditText edit=new EditText (  this);</span><br><span class="line">    AlertDialog.Builder dialog=new AlertDialog.Builder ( this );</span><br><span class="line">    dialog.setTitle ( &quot;输入对话框&quot; );</span><br><span class="line">    dialog.setView ( edit);//这里可以用布局文件</span><br><span class="line">    dialog.setPositiveButton ( &quot;确定&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">            Toast.makeText ( activity_Dialog.this, &quot;输入：&quot;+edit.getText ().toString (), Toast.LENGTH_SHORT ).show ();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; );</span><br><span class="line">    dialog.show ();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9、自定义对话框"><a href="#9、自定义对话框" class="headerlink" title="9、自定义对话框"></a>9、自定义对话框</h3><p><img src="http://blog-bucketend.oss-cn-beijing.aliyuncs.com/img/blog/20200303174140166.png" alt="布局"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">                /*</span><br><span class="line">                *自定义对话框</span><br><span class="line">                * 1、自定义一个类，继承Dialog类</span><br><span class="line">                * 2、创建一个样式(style)，不显示标题栏 不显示背景</span><br><span class="line">                * 3、绑定布局,添加事件</span><br><span class="line">                * 4、调用并显示</span><br><span class="line">                * */</span><br><span class="line">//自定义一个类，继承Dialog类</span><br><span class="line">public class Mydialog extends Dialog &#123;</span><br><span class="line">    public Mydialog(@NonNull Context context) &#123;</span><br><span class="line">        super ( context, R.style.Mydialog );</span><br><span class="line">        setContentView ( R.layout.my_dialog );</span><br><span class="line">        Button confirm=findViewById ( R.id.confirm );</span><br><span class="line">        Button cancel=findViewById ( R.id.cancel );</span><br><span class="line">        confirm.setOnClickListener ( new View.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                System.exit ( 0 );//退出程序</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">        cancel.setOnClickListener ( new View.OnClickListener () &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                dismiss ();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//调用并显示</span><br><span class="line"> Mydialog mydialog=new Mydialog ( this );//自定义的类</span><br><span class="line"> mydialog.setCancelable ( false );//默认为true（是否可退出对话框</span><br><span class="line">mydialog.show ();</span><br><span class="line">//创建一个样式(style)，不显示标题栏 不显示背景</span><br><span class="line">    &lt;!--自定义一种样式--&gt;</span><br><span class="line">    &lt;style name=&quot;Mydialog&quot; parent=&quot;android:style/Theme.Dialog&quot;&gt;</span><br><span class="line">        &lt;!-- Customize your theme here. --&gt;</span><br><span class="line">        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</span><br><span class="line">        &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;</span><br><span class="line">    &lt;/style&gt;                                </span><br></pre></td></tr></table></figure>
<p>布局：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    android:orientation=&quot;vertical&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:background=&quot;#A29EA9&quot;</span><br><span class="line">    android:layout_height=&quot;wrap_content&quot;&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;60dp&quot;</span><br><span class="line">        android:text=&quot;提示&quot;</span><br><span class="line">        android:textSize=&quot;30dp&quot;</span><br><span class="line">        android:textStyle=&quot;bold&quot;</span><br><span class="line">        android:textColor=&quot;#fff&quot;</span><br><span class="line">        android:gravity=&quot;center&quot;/&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;1dp&quot;</span><br><span class="line">        android:background=&quot;#ffffff&quot;/&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;100dp&quot;</span><br><span class="line">        android:text=&quot;你确定要执行吗？&quot;</span><br><span class="line">        android:textColor=&quot;#fff&quot;</span><br><span class="line">        android:gravity=&quot;center&quot;</span><br><span class="line">        android:textSize=&quot;20dp&quot;/&gt;</span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_marginHorizontal=&quot;80dp&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;80dp&quot;</span><br><span class="line">        android:gravity=&quot;center&quot;</span><br><span class="line">        android:orientation=&quot;horizontal&quot;&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:id=&quot;@+id/confirm&quot;</span><br><span class="line">            android:layout_width=&quot;100dp&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_marginRight=&quot;10dp&quot;</span><br><span class="line">            android:text=&quot;确定&quot;/&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">            android:id=&quot;@+id/cancel&quot;</span><br><span class="line">            android:layout_marginLeft=&quot;10dp&quot;</span><br><span class="line">            android:layout_width=&quot;100dp&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:text=&quot;取消&quot;/&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<h3 id="10、比较特殊的对话框"><a href="#10、比较特殊的对话框" class="headerlink" title="10、比较特殊的对话框"></a>10、比较特殊的对话框</h3><p>如果你想做成这样：<br><img src="http://blog-bucketend.oss-cn-beijing.aliyuncs.com/img/blog/20200303180702541.png" alt="效果图"><br>可以利用：ArrayAdapter</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">            /*</span><br><span class="line">            * 1、创建一个xml布局做资源</span><br><span class="line">            * 2、添加ArrayAdapter</span><br><span class="line">            * 3、setAdapter</span><br><span class="line">            * */</span><br><span class="line"> private void showdialog10() &#123;</span><br><span class="line">    final String[] strings=&#123;&quot;Python&quot;,&quot;Java&quot;,&quot;C&quot;,&quot;C#&quot;,&quot;PHP&quot;,&quot;JavaScript&quot;,&quot;Object-C&quot;,&quot;Ruby&quot;&#125;;</span><br><span class="line">    ArrayAdapter adapter=new ArrayAdapter (this,R.layout.mydialog2,R.id.text1,strings  );//R.id.text1:指定控件</span><br><span class="line">    AlertDialog.Builder dialog=new AlertDialog.Builder ( this );</span><br><span class="line">    dialog.setTitle ( &quot;请选择&quot; );</span><br><span class="line">    dialog.setAdapter ( adapter, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">            Toast.makeText ( activity_Dialog.this, strings[which], Toast.LENGTH_SHORT ).show ();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; );</span><br><span class="line">    dialog.show ();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>布局：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    android:orientation=&quot;horizontal&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;</span><br><span class="line">    android:paddingVertical=&quot;10dp&quot;</span><br><span class="line">    android:gravity=&quot;center|left&quot;&gt;</span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:src=&quot;@mipmap/ic_launcher_round&quot;/&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/text1&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginLeft=&quot;20dp&quot;</span><br><span class="line">        android:textSize=&quot;30dp&quot;</span><br><span class="line">        android:textStyle=&quot;bold&quot;</span><br><span class="line">        android:text=&quot;Java&quot;/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<h1 id="Activity生命周期详解"><a href="#Activity生命周期详解" class="headerlink" title="Activity生命周期详解"></a>Activity生命周期详解</h1><p><img src="http://blog-bucketend.oss-cn-beijing.aliyuncs.com/img/blog/20200304085759313.png" alt="什么是生命周期"><br>1、onCreate——创建（怀孕）<br>2、onStart——出生<br>3、onResume——可以交互（可点击可操作了）（可用了）<br>4、onPause——暂停了（可能生病了）<br>5、onStop——停止（老去）<br>6、onDestroy——被销毁了<br>7、onRestart——被销毁又活了（回光返照）<br>另外还有两个较重要的方法：<br>8、onBackPressed——当按返回时被触发<br>9、onSaveInstanceState——当程序被杀掉时执行触发<br><img src="http://blog-bucketend.oss-cn-beijing.aliyuncs.com/img/blog/20200304085359409.png" alt="Activity生命周期"></p>
<h1 id="Activity之间的数据传递："><a href="#Activity之间的数据传递：" class="headerlink" title="Activity之间的数据传递："></a>Activity之间的数据传递：</h1><p>装在Intent对象中：<br>可以传：<br>——基本类型<br>——bundle对象<br>——序列化<br>put…<br>get…<br>如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//存数据</span><br><span class="line">             Intent intent = new Intent ( life_activity.this, Main1_zhuye.class );</span><br><span class="line">             Bundle bundle=new Bundle ();</span><br><span class="line">             bundle.putString ( LIFE_DATA,&quot;命名&quot; );</span><br><span class="line">             intent.putExtra ( &quot;bundle&quot;,bundle );</span><br><span class="line">             startActivity ( intent );</span><br><span class="line">             //取数据</span><br><span class="line">      if (getIntent ()!=null)&#123;</span><br><span class="line">         Bundle bundle= getIntent ().getBundleExtra ( &quot;bundle&quot; );</span><br><span class="line">         text.setText (bundle.getString ( life_activity.LIFE_DATA )  );</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<p>当一个activity调用别一个activity，调用的activity销毁了，想返回数据到第一个activity：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">	//调用的方式要换成startActivityForResult </span><br><span class="line">      Intent intent2=new Intent (life_activity2.this,Main1.class);</span><br><span class="line">      Bundle bundle=new Bundle ();</span><br><span class="line">      bundle.putString ( &quot;key&quot;,&quot;第一个页面&quot; );</span><br><span class="line">      intent2.putExtra ( &quot;key1&quot;, bundle);</span><br><span class="line">       startActivityForResult (intent2 ,777 );</span><br><span class="line">	//想返回数据可以在第二个页面加setResult</span><br><span class="line"> 	@Override</span><br><span class="line">    protected void onDestroy() &#123;</span><br><span class="line">        super.onDestroy ();</span><br><span class="line">        Intent intent=new Intent ();</span><br><span class="line">        intent.putExtra ( &quot;kkk&quot;,&quot;我是第二个页面关闭后返回的数据&quot; );</span><br><span class="line">        setResult (  111,intent);</span><br><span class="line">        finish ();</span><br><span class="line">    &#125;</span><br><span class="line">//第二个页面销毁后会回调第一个页面的onActivityResult方法，就可以接受返回的数据了</span><br><span class="line">    @Override</span><br><span class="line">    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) &#123;</span><br><span class="line">        super.onActivityResult ( requestCode, resultCode, data );</span><br><span class="line">        if (requestCode==777&amp;&amp;resultCode==111)&#123;</span><br><span class="line">            String srt=data.getStringExtra ( &quot;kkk&quot; );</span><br><span class="line">            text.setText ( srt );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment:"></a>Fragment:</h1><p><img src="http://blog-bucketend.oss-cn-beijing.aliyuncs.com/img/blog/20200307130144462.png" alt="在这里插入图片描述"></p>
<p>一、Fragment与Activity的区别：<br>1、Fragment是到Android3.0以后出现的<br>2、一个Activity可以运行多个Fragment<br>3、Fragment不能脱离Activity而存在<br>4、Activity是屏幕的主体，而Fragment是Activity的一个组成员元素</p>
<p>Fragment的生命周期：<br><img src="http://blog-bucketend.oss-cn-beijing.aliyuncs.com/img/blog/20200307122002562.png" alt="在这里插入图片描述"><br>二、两种加载方法：<br>（一）、静态加载：xml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;fragment</span><br><span class="line">    android:id=&quot;@+id/fragment1&quot;</span><br><span class="line">    android:layout_width=&quot;200dp&quot;</span><br><span class="line">    android:layout_height=&quot;200dp&quot;</span><br><span class="line">    android:name=&quot;com.example.myapplication.Fragment.myfragment&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p>（二）、动态加载：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">getSupportFragmentManager ().</span><br><span class="line">	beginTransaction ().</span><br><span class="line">		replace ( R.id.line1, new myfragment_shez ()).</span><br><span class="line">			commit ();</span><br></pre></td></tr></table></figure>
<p>切换：Add、Remove、Replace<br>三、传值：<br>（一）、Activity向Fragment传值：<br>在Fragment中加一个静态方法，并返回Fragment的实例，利用setArguments方法传值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public static final String KEY = &quot;key&quot;;</span><br><span class="line"></span><br><span class="line">public static myfragment_insert newfragemt_insert(String title) &#123;</span><br><span class="line">    myfragment_insert insertFragment=new myfragment_insert ();</span><br><span class="line">    Bundle bundle=new Bundle ();</span><br><span class="line">    bundle.putString ( KEY,title );</span><br><span class="line">    insertFragment.setArguments ( bundle );</span><br><span class="line">    return  insertFragment;</span><br><span class="line">&#125;</span><br><span class="line">//取数据</span><br><span class="line">        if (getArguments ()!=null)&#123;</span><br><span class="line">        tilte = getArguments ().getString ( KEY );</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>（二）、Activity向Fragment传值：利用接口回调</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">//1、fragment中写一个接口</span><br><span class="line">//2、activity中实现接口，并调用setonTitleclickListener方法</span><br><span class="line">    //接口写值方法</span><br><span class="line">    public void setonTitleclickListener(onTitleclickListener onTitleclickListener)&#123;</span><br><span class="line">        monTitleclickListener=onTitleclickListener;</span><br><span class="line">    &#125;</span><br><span class="line">    private onTitleclickListener monTitleclickListener;//创建接口变量</span><br><span class="line">    //定义接口</span><br><span class="line">    public interface  onTitleclickListener&#123;</span><br><span class="line">        Void onclick(String title);</span><br><span class="line">    &#125;</span><br><span class="line">    //2、activity中实现接口，并调用setonTitleclickListener方法（onTitleclickListener是我在myfragment_insert这个类中的定义的接口）</span><br><span class="line">    public class Activity_fragment extends AppCompatActivity implements  myfragment_insert.onTitleclickListener &#123;</span><br><span class="line">    	@Override</span><br><span class="line">	    public Void onclick(String title) &#123;</span><br><span class="line">	        setTitle ( title );</span><br><span class="line">	        return null;</span><br><span class="line">	    &#125;</span><br><span class="line">	    @Override</span><br><span class="line">	    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">	                myfragment_insert activity_fragment = myfragment_insert.newfragemt_insert ( &quot;Activity_fragment&quot; );</span><br><span class="line">	                getSupportFragmentManager ().beginTransaction ().replace ( R.id.line1, activity_fragment ).commit ();</span><br><span class="line">	                activity_fragment.setonTitleclickListener ( this );//调用setonTitleclickListener</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>二、Fragment的管理：<br>（一）、FragmentManager API<br>    ——FragmentManager用来管理Activity中的Fragmet<br>    ——findFragmentByid（通过id查找Activity中的Fragment<br>    ——findFragmentByTag（通过字符串查找Activity中的Fragment<br>    ——popBackStack（模拟用户的点击Back键的操作<br>    ——addOnBackStackChangedListener()添加后台栈改变监听器</p>
<p>（二）、FragmentTTransaction API<br>        ——add()向容器中添加一个Fragment<br>        ——remove()删除一个Fragment<br>        ——replace()将容器中的Fragment替换成新的Fragment<br>        ——hide()隐藏已存在的Fragment<br>        ——show()显示此前隐藏的Fragment<br>        ——addToBackStack()将事务添加到后台栈<br>        ——commit()提交事务，将改变应用到Activity</p>
<p>（三）、系统提供的Fragment：<br>系统提供了几个其他的Fragment类开发者可以继承：<br>1、DialogFragment —— 显示一个悬浮对话框<br>2、ListFragment —— 显示一个由adapter管理的项目列表</p>
<p>悬浮对话框：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//DialogFragment 的使用</span><br><span class="line">    public static  class Mydialog extends DialogFragment &#123;</span><br><span class="line">        private String title;</span><br><span class="line">        public static  Mydialog newDialogFragment(String title)&#123;</span><br><span class="line">            Mydialog mydialog=new Mydialog ();</span><br><span class="line">            Bundle bundle=new Bundle ();</span><br><span class="line">            bundle.putString ( &quot;title&quot;,title );</span><br><span class="line">            mydialog.setArguments ( bundle );</span><br><span class="line">            return mydialog;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @NonNull</span><br><span class="line">        @Override</span><br><span class="line">        public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) &#123;</span><br><span class="line">            title = getArguments ().getString ( &quot;title&quot; );</span><br><span class="line">            Dialog dialog = new AlertDialog.Builder ( getActivity () )</span><br><span class="line">            .setTitle ( title )</span><br><span class="line">                    .setPositiveButton ( &quot;确定&quot;, new DialogInterface.OnClickListener () &#123;</span><br><span class="line">                        @Override</span><br><span class="line">                        public void onClick(DialogInterface dialog, int which) &#123;</span><br><span class="line">                            Toast.makeText ( getActivity (), &quot;ok&quot;, Toast.LENGTH_SHORT ).show ();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; )</span><br><span class="line">                    .setNegativeButton ( &quot;取消&quot;,null )</span><br><span class="line">                    .create ();</span><br><span class="line">            return dialog;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ListFragment ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">   public static class mylistfragment extends ListFragment&#123;</span><br><span class="line">        private String[] data;</span><br><span class="line">        public static mylistfragment newmylistfragment(String[] data)&#123;</span><br><span class="line">            mylistfragment mylistfragment=new mylistfragment ();</span><br><span class="line">            Bundle bundle=new Bundle ();</span><br><span class="line">            bundle.putStringArray ( &quot;data&quot;,data );</span><br><span class="line">            mylistfragment.setArguments ( bundle );</span><br><span class="line">            return mylistfragment;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void onAttach(@NonNull Context context) &#123;</span><br><span class="line">            super.onAttach ( context );</span><br><span class="line">            data=getArguments ().getStringArray ( &quot;data&quot; );</span><br><span class="line">            setListAdapter ( new ArrayAdapter&lt;String&gt; (</span><br><span class="line">                    getActivity (),</span><br><span class="line">                    android.R.layout.simple_expandable_list_item_1,</span><br><span class="line">                    android.R.id.text1,</span><br><span class="line">                    data</span><br><span class="line">            ) );</span><br><span class="line">        &#125;</span><br><span class="line">        @Override</span><br><span class="line">        public void onListItemClick(@NonNull ListView l, @NonNull View v, int position, long id) &#123;</span><br><span class="line">            Toast.makeText ( getActivity (), data[position], Toast.LENGTH_SHORT ).show ();</span><br><span class="line">            super.onListItemClick ( l, v, position, id );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;```</span><br><span class="line"></span><br><span class="line"># 抽屉（DrawerLayout与ScrolView）：</span><br><span class="line">一、DrawerLayout</span><br></pre></td></tr></table></figure>
<p>&#x2F;&#x2F;DrawerLayout<br><?xml version="1.0" encoding="utf-8"?><br>&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android&#x3D;”<a target="_blank" rel="noopener" href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>“<br>    xmlns:app&#x3D;”<a target="_blank" rel="noopener" href="http://schemas.android.com/apk/res-auto">http://schemas.android.com/apk/res-auto</a>“<br>    xmlns:tools&#x3D;”<a target="_blank" rel="noopener" href="http://schemas.android.com/tools">http://schemas.android.com/tools</a>“<br>    android:layout_width&#x3D;”match_parent”<br>    android:layout_height&#x3D;”match_parent”<br>    tools:context&#x3D;”.DrawerLayout.drawerLayout”<br>    android:orientation&#x3D;”vertical”<br>    android:id&#x3D;”@+id&#x2F;drawer”&gt;<br>        <ListView
            android:id="@+id/lsitview"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_gravity="start"
            ><br>        </ListView><br>&lt;&#x2F;androidx.drawerlayout.widget.DrawerLayout&gt;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">(二)、ScrolView</span><br><span class="line">——ScrollView和HorzontalScrollView是为控件或者布局添加滚动条</span><br><span class="line">——ScrollView和HorzontalScrollView只能有一个子控件</span><br><span class="line">——SrollView用于设置垂直滚动条，HorizontalScrollView用于设置水平滚动条</span><br><span class="line">注意：srrolView里面只能有一个控件或布局</span><br><span class="line"># 消息处理机制</span><br><span class="line">为什么要使用线程：</span><br><span class="line">——当主线程执行的操作时间过长，就无法执行其他操作。消息队列中的消息无法处理，UI界面就不会更新，用户事件也不会处理。</span><br><span class="line">——如果主线程执行一个操作超过5秒，Android可能会弹出一个应用程序没有响应的对话框，你的Activity可能会被杀掉。</span><br><span class="line">![在这里插入图片描述](https://img-blog.csdnimg.cn/20200311132153794.png)</span><br><span class="line">——常见的耗时操作如下：</span><br><span class="line">			网络连接和网络疏忽的获取</span><br><span class="line">			对存储器的读写</span><br><span class="line">			大量的数据计算</span><br><span class="line">一、消息队列(MessageQueue)</span><br><span class="line">——Android采用一种复杂的Message Queue机制保证线程间通信</span><br><span class="line">——Message Queue是一个信息队列，用来存放通过Handler发布的信息。Android在第一次启动程序时会默认为UI线程创建一个关联的消息队列，用来管理程序的组件，如Activity，Service，Broatcast Receiver等</span><br><span class="line">——可以在工作线程中城建Handler与UI线程通信。</span><br><span class="line"></span><br><span class="line">![在这里插入图片描述](https://img-blog.csdnimg.cn/20200311135025696.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk5OTE4Mg==,size_16,color_FFFFFF,t_70)![在这里插入图片描述](https://img-blog.csdnimg.cn/20200311133746277.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk5OTE4Mg==,size_16,color_FFFFFF,t_70)</span><br><span class="line">二、Handler的消息传递机制：</span><br><span class="line">——工作线程可以通过Handler对象和主线程通讯</span><br><span class="line">——Handler对象的所有工作将在主线程中执行</span><br><span class="line">——Handler类需要实现handleMessage()方法，来处理信息队列中取出的Message对象。what值对应</span><br><span class="line">——handlerMessage()方法由主线程调用，可以在需要的时候更新UI界面。但是必须确保次方法快速完成，因为其他UI操作会等待它完成才能执行。</span><br><span class="line">——可以在Message中附加不同的参数</span><br><span class="line">![](https://img-blog.csdnimg.cn/20200311135710721.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzk5OTE4Mg==,size_16,color_FFFFFF,t_70)</span><br><span class="line">注意：子线程中是不可操作UI控件的</span><br><span class="line">（一）、Handler处理</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在这里插入代码片</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">三、xml解析：</span><br></pre></td></tr></table></figure>
<pre><code>//PullParser解析xml文件
public List&lt;String&gt; getXmlPullParser(Resources res,int id) throws XmlPullParserException, IOException &#123;
    List&lt;String&gt; listdata = null;
    XmlPullParser xml=res.getXml ( id );
        int eventype=xml.getEventType ();
        while (eventype!=XmlPullParser.END_DOCUMENT)&#123;
            String gen=null;
            switch (eventype)&#123;
                case XmlPullParser.START_DOCUMENT://文档开始
                    // Log.i ( &quot;tag&quot;,&quot;START_DOCUMENT&quot; );
                    listdata=new ArrayList&lt;&gt; ();
                    break;
                case XmlPullParser.END_DOCUMENT://文档结束
                    //Log.i ( &quot;tag&quot;,&quot;END_DOCUMENT&quot; );
                    break;
                case XmlPullParser.START_TAG://标记（标签）开始
                    gen=xml.getName ();//取属性名
                    if (gen.equals ( &quot;Button&quot; ))&#123;
                        String value=xml.getAttributeValue ( 0 );//取属性的值
                        listdata.add ( value );
                        Log.i ( &quot;tag&quot;,&quot;START_TAG：&quot;+gen +&quot;=&quot;+value);
                    &#125;
                    break;
                case  XmlPullParser.END_TAG://标记（标签）结束
                    gen=xml.getName ();
                    Log.i ( &quot;tag&quot;,&quot;END_TAG：&quot;+gen );
                    break;
            &#125;
            eventype=xml.next ();//下一个
        &#125;
    return listdata;
&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">四、josn解析：</span><br><span class="line"></span><br><span class="line">一、JSON的概念：</span><br><span class="line">——JSON(javascript object notation)，是一种轻量级的数据存储贺交换格式</span><br><span class="line">——它是完全独立于语言的文本格式</span><br><span class="line">——JSON易于阅读、编写，也易于机器解析贺生成。</span><br><span class="line"></span><br><span class="line">二、JSON基本格式：</span><br><span class="line">——键值对对象格式：用“&#123;&#125;”包围</span><br><span class="line">——数组格式：用“[]” 包围。</span><br><span class="line">    /*</span><br><span class="line">    * JSONObject:&#123;&#125;</span><br><span class="line">    * JSONArray:数组（[]）</span><br><span class="line">    * */</span><br><span class="line">如：String data=&quot;&#123;&quot;name&quot;:&quot;Tom&quot;&#125;&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>/*
* json数据：
</code></pre>
<p>{<br>    “data”: [<br>        {<br>            “id”: 12,<br>            “url”: “”,<br>            “br”: 0,<br>            “size”: 0,<br>            “md5”: null,<br>            “code”: 404,<br>            “expi”: 0,<br>            “type”: null,<br>            “gain”: 0,<br>            “fee”: 0,<br>            “uf”: null,<br>            “payed”: 0,<br>            “flag”: 0,<br>            “canExtend”: false,<br>            “freeTrialInfo”: null,<br>            “level”: null,<br>            “encodeType”: null<br>        }<br>    ],<br>    “code”: 200<br>}<br>    * *&#x2F;<br>    public void JOSN_string(String str) throws JSONException {<br>        JSONObject object&#x3D;new JSONObject (str);&#x2F;&#x2F;取到json对象<br>        JSONArray object1 &#x3D; object.getJSONArray ( “data” );&#x2F;&#x2F;取到json数组<br>        for (int i&#x3D;0;i&lt;object1.length ();i++){<br>            JSONObject data3 &#x3D; object1.getJSONObject ( 0 );&#x2F;&#x2F;取数组第一个<br>            int id&#x3D;data3.getInt ( “id” );&#x2F;&#x2F;去属性值（键值对）<br>            String url&#x3D;data3.getString ( “url” );<br>            int br&#x3D;data3.getInt ( “br” );<br>            int size&#x3D;data3.getInt ( “size” );<br>            String md5&#x3D;data3.getString ( “md5” );<br>            int code&#x3D;data3.getInt ( “code” );<br>            int expi&#x3D;data3.getInt ( “expi” );<br>            String type&#x3D;data3.getString ( “type” );<br>            int gain&#x3D;data3.getInt ( “gain” );<br>            int fee&#x3D;data3.getInt ( “fee” );<br>            String uf&#x3D;data3.getString ( “uf” );<br>            int payed&#x3D;data3.getInt ( “payed” );<br>            int flag&#x3D;data3.getInt ( “flag” );<br>            boolean canExtend&#x3D;data3.getBoolean ( “canExtend” );<br>            String freeTrialInfo&#x3D;data3.getString ( “freeTrialInfo” );<br>            String level&#x3D;data3.getString ( “level” );<br>            String encodeType&#x3D;data3.getString ( “encodeType” );<br>            Log.i ( “data”,id+”,”+url+”,”+br+”,”+size+”,”+md5+”,”+code+”,”+expi+”,”+type+<br>                    “,”+gain+”,”+fee+”,”+uf+”,”+payed+”,”+flag+”,”+canExtend+”,”+canExtend+”,”+freeTrialInfo<br>                    +”,”+level+”,”+encodeType<br>                    );<br>        }<br>        String object2 &#x3D; object.getString ( “code” );<br>    }</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## Adapter适配器：</span><br><span class="line">分类：ArrayAdapter、SimpleAdapter、BaseAdapter、ExpandableListAdapter</span><br><span class="line"></span><br><span class="line">1、ArrayAdapter：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>//简单适配器（ArrayAdapter）
private void adapter1() &#123;
    final String[] data = &#123;&quot;AA&quot;, &quot;BB&quot;, &quot;CC&quot;, &quot;AA&quot;, &quot;BB&quot;, &quot;CC&quot;, &quot;AA&quot;, &quot;BB&quot;, &quot;CC&quot;&#125;;
    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt; (
            this,//上下文
            android.R.layout.simple_list_item_1,//布局
            android.R.id.text1,//数据显示控件id
            data//数据源
    );
    //事件
    listview.setOnItemClickListener ( new AdapterView.OnItemClickListener () &#123;
        @Override
        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123;
            /*
             * parent:适配器
             * view：控件
             * position：索引
             * */
            Toast.makeText ( Activity_adapte.this, data[position], Toast.LENGTH_SHORT ).show ();
        &#125;
    &#125; );
    listview.setAdapter ( adapter );//绑定适配器
&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2、SimpleAdapter：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>   &#x2F;&#x2F;适配器（SimpleAdapter）<br>  private void adapter2() {<br>        List&lt;Map&lt;String, Object&gt;&gt; listdata &#x3D; new ArrayList ();<br>        Map&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt; ();<br>        map.put ( “name”, “张三” );<br>        map.put ( “age”, “18” );<br>        listdata.add ( map );<br>        Map&lt;String, Object&gt; map1 &#x3D; new HashMap&lt;&gt; ();<br>        map1.put ( “name”, “李四” );<br>        map1.put ( “age”, “28” );<br>        listdata.add ( map1 );<br>        Map&lt;String, Object&gt; map3 &#x3D; new HashMap&lt;&gt; ();<br>        map3.put ( “name”, “蔡徐坤” );<br>        map3.put ( “age”, “22” );<br>        listdata.add ( map3 );<br>        SimpleAdapter adapter1 &#x3D; new SimpleAdapter (<br>                this,&#x2F;&#x2F;上下文<br>                listdata,&#x2F;&#x2F;数据源<br>                R.layout.simple_1,&#x2F;&#x2F;布局<br>                new String[]{“name”, “age”},<br>                new int[]{R.id.text1, R.id.text2}<br>        );<br>        listview.setAdapter ( adapter1 );<br>    }</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3、BaseAdapter ：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>//自定义的适配器
public class Myadapte extends BaseAdapter &#123;
    int[] img=&#123;
            R.mipmap.list_my,
            R.mipmap.list_my_menu,
            R.mipmap.list_pwd,
            R.mipmap.list_safe_center,
            R.mipmap.list_save,
            R.mipmap.list_service
    &#125;;
    String[] name=&#123;
        &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;
    &#125;;
    //源数据的个数
    @Override
    public int getCount() &#123;
        return img.length;
    &#125;

    //索引项
    @Override
    public Object getItem(int position) &#123;
        return position;
    &#125;

    //索引项
    @Override
    public long getItemId(int position) &#123;
        return position;
    &#125;
    //项显示的view
    @Override
    public View getView(final int position, View convertView, ViewGroup parent) &#123;
        View view;
        viewHolder holder;
        if (convertView == null) &#123;
            LayoutInflater inflater = LayoutInflater.from ( Activity_adapte.this );//布局管理器
            view = inflater.inflate ( R.layout.simple_2, parent, false );//创建视图
            holder=new viewHolder ( view );//将视图交由viewHolder管理
        &#125; else &#123;
            view = convertView;
            holder= (viewHolder) convertView.getTag ();
        &#125;
        ImageView imgage = holder.getview1 (  );
        TextView age = holder.getview2 (  );
        Button but1=holder.getview3 ();
        imgage.setImageResource ( img[position] );
        age.setText (name[position]  );
        but1.setOnClickListener ( new View.OnClickListener () &#123;
            @Override
            public void onClick(View v) &#123;
                Toast.makeText ( Activity_adapte.this, &quot;点击了&quot;+name[position], Toast.LENGTH_SHORT ).show ();
            &#125;
        &#125; );
        return view;
    &#125;
    //管理控件的类，为了节约内存
    class viewHolder &#123;
        private View view;
        private ImageView img;
        private TextView name;
        private Button but1;

        public viewHolder(View view) &#123;
            this.view = view;
        &#125;

        public ImageView getview1() &#123;
            if (img == null) &#123;
                img = view.findViewById ( R.id.img );
            &#125;
            return img;
        &#125;

        public TextView getview2() &#123;
            if (name == null) &#123;
                name = view.findViewById ( R.id.text );
            &#125;
            return name;
        &#125;
        public Button getview3() &#123;
            if (but1 == null) &#123;
                but1 = view.findViewById ( R.id.but1 );
            &#125;
            return but1;
        &#125;
    &#125;
&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">## 自定义控件：</span><br><span class="line">——按类型划分，自定义View的实现方式可分为三种：</span><br><span class="line">	自绘控件</span><br><span class="line">	组合控件</span><br><span class="line">	继承控件</span><br><span class="line">一、自绘控件：</span><br><span class="line">——在View上所展现的内容全部都是绘制出来的</span><br><span class="line">——绘制的代码是写在onDraw()方法中的</span><br><span class="line">——自定义的View在界面上显示，只需要像使用普通的控件一样来使用自定义View就可以了。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>package com.example.myapplication.my_control;</p>
<p>import android.content.Context;<br>import android.graphics.Bitmap;<br>import android.graphics.BitmapFactory;<br>import android.graphics.Canvas;<br>import android.graphics.Color;<br>import android.graphics.Paint;<br>import android.os.Build;<br>import android.util.AttributeSet;<br>import android.view.View;</p>
<p>import androidx.annotation.Nullable;<br>import androidx.annotation.RequiresApi;</p>
<p>import com.example.myapplication.R;<br>&#x2F;*</p>
<ul>
<li><p>自绘控件</p>
</li>
<li><p><em>&#x2F;<br>public class MyView extends View implements Runnable{<br>  private Paint mpaint;&#x2F;&#x2F;画笔<br>  private Bitmap mbitmap;<br>  private int x;<br>  private boolean flag;<br>  public MyView(Context context) {<br>  super ( context );<br>  inti();<br>  }<br>  &#x2F;</em></p>
<ul>
<li>一代吗的方式动态加View到容器时使用</li>
<li><em>&#x2F;<br>public MyView(Context context, @Nullable AttributeSet attrs) {<br>  super ( context, attrs );<br>  inti();<br>}<br>&#x2F;</em></li>
<li>当以XML布局文件的方式使用时，自动调用</li>
<li>*&#x2F;<br>public MyView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {<br>  super ( context, attrs, defStyleAttr );<br>  inti();<br>}</li>
</ul>
<p>  private void inti() {<br>      mpaint&#x3D;new Paint ();<br>      mpaint.setColor ( Color.RED );&#x2F;&#x2F;设置画笔颜色<br>      mpaint.setStyle ( Paint.Style.STROKE );&#x2F;&#x2F;设置画笔样式<br>      mpaint.setStrokeWidth ( 3 );&#x2F;&#x2F;设置画笔线条的宽度<br>      mbitmap&#x3D; BitmapFactory.decodeResource ( getResources (), R.mipmap.find_hot_city );&#x2F;&#x2F;取得位图<br>      mbitmap&#x3D;mbitmap.createScaledBitmap ( mbitmap,1600,1400,true );&#x2F;&#x2F;创建一个缩放的Bitmap对象<br>  }<br>  public void setFlag(boolean start){<br>      flag&#x3D;start;<br>  }<br>  &#x2F;*</p>
<ul>
<li><p>canvas：画布</p>
</li>
<li><p>mpaint：画笔</p>
</li>
<li><p>*&#x2F;<br>@Override<br>protected void onDraw(Canvas canvas) {</p>
<p>  &#x2F;&#x2F;canvas.drawCircle ( 50,50,50, mpaint);&#x2F;&#x2F;绘制圆<br>  &#x2F;&#x2F;canvas.drawRect ( 10,100,10,100,mpaint );&#x2F;&#x2F;绘制矩形</p>
</li>
</ul>
<p>&#x2F;&#x2F;        canvas.drawBitmap ( mbitmap,10,10,null );&#x2F;&#x2F;绘制图片<br>      moveBackground(canvas);<br>      super.onDraw ( canvas );<br>    }<br>    private void moveBackground(Canvas canvas){<br>      x-&#x3D;5;<br>      int x2&#x3D;mbitmap.getWidth ()-(-x);<br>      if (x2&lt;&#x3D;0){<br>          x&#x3D;0;<br>          canvas.drawBitmap ( mbitmap,x,10,null );<br>      }else {<br>          canvas.drawBitmap ( mbitmap,x,10,null );<br>          canvas.drawBitmap ( mbitmap,x2,10,null );<br>      }<br>    }</p>
<p>  @Override<br>  public void run() {<br>      while (flag){<br>          &#x2F;&#x2F;线程中不可以直接调用onDraw方法<br>          postInvalidate ();&#x2F;&#x2F;在线程中要求View重新呈现<br>      }<br>  }</p>
</li>
</ul>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">二、自定义布局</span><br><span class="line"></span><br><span class="line">1、用xml布局文件自定义布局</span><br></pre></td></tr></table></figure>
<p>&#x2F;&#x2F;自定义布局(用了一个xml布局文件)<br>public class My_layout extends LinearLayout {<br>    private TextView text;<br>    private Button but1;<br>    private Context context;<br>    public My_layout(Context context) {<br>        super ( context );<br>        this.context&#x3D;context;<br>        View view&#x3D;inti();<br>    }</p>
<pre><code>public My_layout(Context context, @Nullable AttributeSet attrs) &#123;
    super ( context, attrs );
    this.context=context;
    View view=inti();
    this.addView ( view );
&#125;

public View inti() &#123;
    LayoutInflater inflater=LayoutInflater.from ( context );
    View view=inflater.inflate ( R.layout.ling_layout,null );
    return view;
&#125;
</code></pre>
<p>}</p>
<p>&#x2F;&#x2F;xml文件<br><?xml version="1.0" encoding="utf-8"?><br><LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:background="#e1e1e1"><br>      <Button
          android:id="@+id/but1"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content"
          android:text="按钮"/><br>    <TextView
        android:id="@+id/text"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="This is Title"/><br></LinearLayout><br>&#x2F;&#x2F;使用<br>setContentView ( new My_layout  );</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2、纯java代码自定义布局</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>public class My_layout2 extends LinearLayout {<br>    private TextView text;<br>    private Button but1;<br>    private Context context;<br>    public My_layout2(Context context) {<br>        super ( context );<br>        this.context&#x3D;context;<br>        inti();<br>    }</p>
<pre><code>public My_layout2(Context context, @Nullable AttributeSet attrs) &#123;
    super ( context, attrs );
    this.context=context;
    inti();
&#125;
//要使用控件必须先new出来
public void inti() &#123;
    text=new TextView ( context );
    but1=new Button ( context );
    LayoutParams params=new LayoutParams (280,LayoutParams.WRAP_CONTENT,1  );
    this.setOrientation ( LinearLayout.HORIZONTAL );//设置布局方向
    this.setBackgroundColor ( Color.RED );
    this.setLayoutParams ( params );
    this.addView ( but1 );
    this.addView ( text );
&#125;
</code></pre>
<p>}<br>&#x2F;&#x2F;使用<br>setContentView ( new My_layout2  );</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">三、	继承控件</span><br><span class="line">——并不需要自己重头去实现一个控件，只需要去继承要给现有的控件，然后再这个控件上增加一些新的功能，就可以形成一个自定义的控件。</span><br><span class="line">——继承控件的特点就是不仅能够按照我们的需求加入相应的功能，还可以保留原生控件的所有功能	。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>public class MyView2 extends Button {<br>    private  int  cx,cy;<br>    private  int radius;<br>    private Paint mPaint;<br>    private int paintColor;<br>    public MyView2(Context context) {<br>        super ( context );<br>        init ();<br>    }</p>
<pre><code>public MyView2(Context context, AttributeSet attrs) &#123;
    super ( context, attrs );
    init ();
&#125;

public MyView2(Context context, AttributeSet attrs, int defStyleAttr) &#123;
    super ( context, attrs, defStyleAttr );
    init ();
&#125;

@Override
protected void onDraw(Canvas canvas) &#123;
    int width=getWidth ();
    int height=getHeight ();
    cx=width/2;
    cy=height/2;
    radius=cx&lt;cy?cy:cx;
    canvas.drawCircle ( cx,cy,radius,mPaint );
    super.onDraw ( canvas );
&#125;
public void init()&#123;
    mPaint=new Paint ();
    mPaint.setColor ( Color.RED );
    this.setText ( &quot;&quot; );
    this.setBackgroundColor ( Color.TRANSPARENT );
&#125;
public void setPaintColor(int color)&#123;
    paintColor=color;
    mPaint.setColor ( paintColor );
    invalidate ();
&#125;
//触屏监听器
@Override
public boolean onTouchEvent(MotionEvent event) &#123;
    switch (event.getAction ())&#123;
        case MotionEvent.ACTION_DOWN:
            setPaintColor ( Color.YELLOW );
            return true;
        case MotionEvent.ACTION_UP:
            setPaintColor ( Color.RED );
            return true;
    &#125;
    return super.onTouchEvent ( event );
&#125;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">### Listview、GridView、RecyclerView的使用：</span><br><span class="line">一、ListView</span><br><span class="line"></span><br><span class="line">二、GridView</span><br><span class="line"></span><br><span class="line">三、RecyclerView</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Notification（通知栏信息）</span><br><span class="line">——当系统想要不妨碍操作的情况下通知用户，可以使用Notification展示在屏幕最上方的通知栏内</span><br><span class="line">——如果想要看详细的信息，拉下通知栏可以看到</span><br><span class="line">——系统提供了对于Notification的服务，getSysoutService(NOTIFICATION_SERVICE)为我们返回一个通知服务的接口</span><br><span class="line">——默认的通知栏布局</span><br><span class="line">content title         Large icon</span><br><span class="line">Content text 		Content info</span><br><span class="line">Small icon 			Time</span><br><span class="line"></span><br><span class="line">## Service的概念：</span><br><span class="line">——Service是一种Android的组件 ，可以在后台长时间运行</span><br><span class="line">——Service不提供界面交互</span><br><span class="line">	即便用户跳转至另一个应用后，Service仍旧在后台运行</span><br><span class="line">	任意应用组件都可以绑定服务，甚至可以用来完成进程间通讯的任务</span><br><span class="line">			需要下载时</span><br><span class="line">			播放音乐</span><br><span class="line">			文件I/O、</span><br><span class="line">一、Service的启动方式：</span><br><span class="line">——Service可以通过两种方式来调用</span><br><span class="line">		start</span><br><span class="line">		一旦某个组件start一个Service后，Service开始独立运行，不在与原来的组件产生任何关系</span><br><span class="line">		bind</span><br><span class="line">		某个组件bind一个Service后，Service为组件提供一个接口，近似于客户端，会进行的交互</span><br><span class="line">		</span><br><span class="line">一、start</span><br></pre></td></tr></table></figure>
<p>public class Service_list extends Service {<br>    private String tag&#x3D;”Service”;<br>    &#x2F;*<br>     * 只有在生命周期第一次调用<br>     * <em>&#x2F;<br>    @Override<br>    public void onCreate() {<br>        Log.d ( tag,”onCreate” );<br>        super.onCreate ();<br>    }<br>    &#x2F;</em><br>    * 每次startService启动都会调用<br>    * *&#x2F;<br>    @Override<br>    public int onStartCommand(Intent intent, int flags, int startId) {<br>        Log.d ( tag,”onStartCommand” );<br>        return super.onStartCommand ( intent, flags, startId );<br>    }<br>    @Override<br>    public void onDestroy() {<br>        Log.d ( tag,”onDestroy” );<br>        super.onDestroy ();<br>    }<br>    @Nullable<br>    @Override<br>    public IBinder onBind(Intent intent) {<br>        return null;<br>    }<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">注意：有些时候我们使用Service的时需要采用隐私启动的方式，但是Android 5.0一出来后，其中有个特性就是Service Intent  must be explitict，也就是说从Lollipop开始，service服务必须采用显示方式启动。</span><br><span class="line">有两种解决方法：</span><br><span class="line">1、设置Action和packageName：</span><br></pre></td></tr></table></figure>
<p>Intent mIntent &#x3D; new Intent();<br>mIntent.setAction(“XXX.XXX.XXX”);&#x2F;&#x2F;你定义的service的action<br>mIntent.setPackage(getPackageName());&#x2F;&#x2F;这里你需要设置你应用的包名<br>context.startService(mIntent);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2、将隐式启动转换为显示启动：</span><br></pre></td></tr></table></figure>
<p>public static Intent getExplicitIntent(Context context, Intent implicitIntent) {<br>        &#x2F;&#x2F; Retrieve all services that can match the given intent<br>        PackageManager pm &#x3D; context.getPackageManager();<br>        List<ResolveInfo> resolveInfo &#x3D; pm.queryIntentServices(implicitIntent, 0);<br>        &#x2F;&#x2F; Make sure only one match was found<br>        if (resolveInfo &#x3D;&#x3D; null || resolveInfo.size() !&#x3D; 1) {<br>            return null;<br>        }<br>        &#x2F;&#x2F; Get component info and create ComponentName<br>        ResolveInfo serviceInfo &#x3D; resolveInfo.get(0);<br>        String packageName &#x3D; serviceInfo.serviceInfo.packageName;<br>        String className &#x3D; serviceInfo.serviceInfo.name;<br>        ComponentName component &#x3D; new ComponentName(packageName, className);<br>        &#x2F;&#x2F; Create a new intent. Use the old one for extras and such reuse<br>        Intent explicitIntent &#x3D; new Intent(implicitIntent);<br>        &#x2F;&#x2F; Set the component to be explicit<br>        explicitIntent.setComponent(component);<br>        return explicitIntent;<br>    }<br> &#x2F;&#x2F;调用方式如下：<br> Intent mIntent &#x3D; new Intent();<br>mIntent.setAction(“XXX.XXX.XXX”);<br>Intent eintent &#x3D; new Intent(getExplicitIntent(mContext,mIntent));<br>context.startService(eintent);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">二、bind</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&#x2F;&#x2F;Service<br>public class Service_list extends Service {<br>    private String tag&#x3D;”Service”;<br>    &#x2F;*<br>     * 只有在生命周期第一次调用<br>     * <em>&#x2F;<br>    @Override<br>    public void onCreate() {<br>        Log.d ( tag,”onCreate” );<br>        super.onCreate ();<br>    }<br>    &#x2F;</em><br>    * 每次startService启动都会调用<br>    * <em>&#x2F;<br>    @Override<br>    public int onStartCommand(Intent intent, int flags, int startId) {<br>        Log.d ( tag,”onStartCommand” );<br>        return super.onStartCommand ( intent, flags, startId );<br>    }<br>    @Override<br>    public void onDestroy() {<br>        Log.d ( tag,”onDestroy” );<br>        super.onDestroy ();<br>    }<br>    &#x2F;</em><br>     * 只有在生命周期第一次调用<br>     * *&#x2F;<br>    @Nullable<br>    @Override<br>    public IBinder onBind(Intent intent) {<br>        Log.d ( tag,”onBind” );<br>        return new Mybind ();<br>    }<br>    public class Mybind extends Binder {<br>        public double avg(double…doubles){<br>            int sum&#x3D;0;<br>            for (int i&#x3D;0;i&lt;doubles.length;i++){<br>                sum+&#x3D;doubles[i];<br>            }<br>            return sum&#x2F;doubles.length;<br>        }<br>    }<br>}</p>
<p>&#x2F;&#x2F;调用<br>public class Service2 extends AppCompatActivity implements View.OnClickListener {<br>    private String tag &#x3D; “Service”;<br>    private Button but1;<br>    private Button but2;<br>    private Button but3;<br>    private Button but4;<br>    private Intent intent;<br>    public Service_list.Mybind mybind;<br>    ServiceConnection connection &#x3D; new ServiceConnection () {<br>        @Override<br>        public void onServiceConnected(ComponentName name, IBinder service) {<br>            &#x2F;&#x2F;连接成功，自动调用<br>            mybind &#x3D; (Service_list.Mybind) service;<br>            Log.d ( tag, “onServiceConnected” );</p>
<pre><code>    &#125;

    @Override
    public void onServiceDisconnected(ComponentName name) &#123;
        //连接无效时调用

        Log.d ( tag, &quot;onServiceDisconnected&quot; );

    &#125;
&#125;;
private EditText editText3;
private TextView text5;
private EditText editText2;
private TextView text4;
private EditText editText1;
private TextView text1;
private Button button;
private Button button4;
private TextView textView6;

@Override
protected void onCreate(Bundle savedInstanceState) &#123;
    super.onCreate ( savedInstanceState );
    setContentView ( R.layout.activity_service2 );
    initView ();
&#125;

private void initView() &#123;
    editText3 = (EditText) findViewById ( R.id.editText3 );
    text5 = (TextView) findViewById ( R.id.text5 );
    editText2 = (EditText) findViewById ( R.id.editText2 );
    text4 = (TextView) findViewById ( R.id.text4 );
    editText1 = (EditText) findViewById ( R.id.editText1 );
    text1 = (TextView) findViewById ( R.id.text1 );
    button = (Button) findViewById ( R.id.button );

    button.setOnClickListener ( this );
    button4 = (Button) findViewById ( R.id.button4 );
    button4.setOnClickListener ( this );
    textView6 = (TextView) findViewById ( R.id.textView6 );
    textView6.setOnClickListener ( this );
&#125;

@Override
public void onClick(View v) &#123;
    switch (v.getId ()) &#123;
        case R.id.button:
            intent = new Intent ();
            intent.setAction ( &quot;com.example.myapplication.Service&quot; );
            intent.setPackage ( getPackageName () );
            bindService ( intent, connection, BIND_AUTO_CREATE );
            break;
        case R.id.button4:
            double yu=Double.valueOf (editText1.getText ().toString ()  );
            double num=Double.valueOf (editText2.getText ().toString ()  );
            double yin=Double.valueOf (editText3.getText ().toString ()  );
            double a=mybind.avg ( yu,num,yin );
            textView6.setText ( &quot;平均分数：&quot;+a );
            break;
    &#125;
&#125;
</code></pre>
<p>}</p>
<pre><code>三、系统服务：
1、由于是Android原生代码，可以通过Android代码来对服务进行交互
2、Android将Binder封装成普通的Manager类，代码调用时无法察觉是使用了Service
3、这些服务通过Context.getSystemService(String name)来获得
            name决定了获得不同的Manager类，不同的Manager类有各自的方法来调用系统功能或是访问系统状态
一、常用的系统服务：
1、POWER_SERVICE(&quot;power&quot;)	PowerManager电源管理
2、NOTIFICATION_SERVICE(&quot;notification&quot;)		NotificationManager通知的管理
3、LOCATION_SERVICE(&quot;location&quot;)		 LocationManager定位的控制
4、CONNECTIVITY_SERVICE(&quot;connection&quot;)		ConnectivityManager网络连接的管理

## ShraredPreference存储：
一、数据存储的意义：
——保存用户私有数据和配置
——比如音效设置，音乐文件，视频文件，短信，联系人
——需要在关机后重启仍能有效
——需要存储到外部介质中
二、使用SharedPrefreences
——一种轻量级的数据存取方法，以键值对来存储应用程序的配置信息
——只能存储基本的数据类型：boolean，float，int，long，string
——以XML文件的格式保存，位于/data/data/Package_name/shared_prefs目录下


## 文件存储：
——使用文件系统
——使用SDCard
一、使用文件系统：
——android使用的是基于Linux的文件系统，开发人员可以建立和访问程序自身的私有文件，也可以访问保存在资源目录中得原始文件和XML文件，还可以在SD卡等外部存储设备中保存文件。
——Android允许应用程序创建仅能够自身访问的私有文件，文件保存在设备的内部存储器上，在Linux系统上 的/data/data/&lt;package_name&gt;中。
        常用FileInputStream，FileOutputStream类结合openFileOutput,openFileInput方法完成对文件的读写。
</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Docker</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/11/26/Android%E5%BC%80%E5%8F%91/">http://example.com/2023/11/26/Android%E5%BC%80%E5%8F%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">个人博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java</a><a class="post-meta__tags" href="/tags/Android/">Android</a><a class="post-meta__tags" href="/tags/APP/">APP</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/26/Vue-js/" title="Vue.js"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue.js</div></div></a></div><div class="next-post pull-right"><a href="/2023/11/26/vue%E5%AF%B9seo%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88Nuxt-js/" title="vue对seo的解决方案Nuxt.js"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">vue对seo的解决方案Nuxt.js</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/11/26/Android%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="Android消息机制"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-26</div><div class="title">Android消息机制</div></div></a></div><div><a href="/2023/11/26/Android%E6%9D%83%E9%99%90%E4%BB%A3%E7%A0%81/" title="Android权限代码"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-26</div><div class="title">Android权限代码</div></div></a></div><div><a href="/2023/11/26/Android%E4%B9%8BContentProvite%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Android之ContentProvite组件的使用"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-26</div><div class="title">Android之ContentProvite组件的使用</div></div></a></div><div><a href="/2023/11/26/HttpURLConnection%E5%92%8COKHTTP%E7%9A%84%E4%BD%BF%E7%94%A8/" title="HttpURLConnection和OKHTTP的使用"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-26</div><div class="title">HttpURLConnection和OKHTTP的使用</div></div></a></div><div><a href="/2023/11/26/Service%E7%BB%84%E4%BB%B6/" title="Service组件"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-26</div><div class="title">Service组件</div></div></a></div><div><a href="/2023/11/26/Sqlite%E6%95%B0%E6%8D%AE%E5%BA%93/" title="Sqlite数据库"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-26</div><div class="title">Sqlite数据库</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Docker</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">43</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/liuwenzhensunniwell"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/liuwenzhensunniwell" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#activity%E7%9A%84%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">activity的管理：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AAActivity"><span class="toc-number">1.1.</span> <span class="toc-text">启动一个Activity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BackStack%E5%9B%9E%E9%80%80%E6%A0%88"><span class="toc-number">1.2.</span> <span class="toc-text">BackStack回退栈</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Menu%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">Menu分类：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E9%A1%B9%E8%8F%9C%E5%8D%95-OptionMenu"><span class="toc-number">2.1.</span> <span class="toc-text">选项菜单(OptionMenu)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E8%8F%9C%E5%8D%95-ContextMenu"><span class="toc-number">2.2.</span> <span class="toc-text">上下文菜单(ContextMenu)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%B9%E5%87%BA%E8%8F%9C%E5%8D%95-PopupMenu"><span class="toc-number">2.3.</span> <span class="toc-text">弹出菜单(PopupMenu)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#OptionMenu%EF%BC%9A"><span class="toc-number">2.3.1.</span> <span class="toc-text">OptionMenu：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ContextMenu%EF%BC%9A"><span class="toc-number">2.3.2.</span> <span class="toc-text">ContextMenu：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PopupMenu%EF%BC%9A"><span class="toc-number">2.3.3.</span> <span class="toc-text">PopupMenu：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#java%E7%BC%96%E5%86%99menu%EF%BC%9A"><span class="toc-number">3.</span> <span class="toc-text">java编写menu：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">3.1.</span> <span class="toc-text">对话框</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%99%AE%E9%80%9A%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A"><span class="toc-number">3.1.1.</span> <span class="toc-text">1、普通对话框（一）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%99%AE%E9%80%9A%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A"><span class="toc-number">3.1.2.</span> <span class="toc-text">2、普通对话框（二）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%88%97%E8%A1%A8%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%9A"><span class="toc-number">3.1.3.</span> <span class="toc-text">3、列表对话框：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%8D%95%E9%80%89%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%9A"><span class="toc-number">3.1.4.</span> <span class="toc-text">4、单选对话框：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%A4%9A%E9%80%89%E5%AF%B9%E8%AF%9D%E6%A1%86%EF%BC%9A"><span class="toc-number">3.1.5.</span> <span class="toc-text">5、多选对话框：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E7%AD%89%E5%BE%85%E5%AF%B9%E8%AF%9D%E6%A1%86-progressDialog-%EF%BC%9A"><span class="toc-number">3.1.6.</span> <span class="toc-text">6、等待对话框(progressDialog)：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E8%BF%9B%E5%BA%A6%E6%9D%A1%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">3.1.7.</span> <span class="toc-text">7、进度条对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E8%BE%93%E5%85%A5%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">3.1.8.</span> <span class="toc-text">8、输入对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">3.1.9.</span> <span class="toc-text">9、自定义对话框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81%E6%AF%94%E8%BE%83%E7%89%B9%E6%AE%8A%E7%9A%84%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="toc-number">3.1.10.</span> <span class="toc-text">10、比较特殊的对话框</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Activity%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E8%AF%A6%E8%A7%A3"><span class="toc-number">4.</span> <span class="toc-text">Activity生命周期详解</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Activity%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92%EF%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">Activity之间的数据传递：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Fragment"><span class="toc-number">6.</span> <span class="toc-text">Fragment:</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/03/%E5%9C%BA%E6%99%AF%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E7%94%B5%E5%95%86%E8%AE%A2%E5%8D%95%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E3%80%81%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B%E5%8F%8A%E8%B4%9F%E8%BD%BD%E6%83%85%E5%86%B5/" title="场景：一个真实电商订单系统的整体架构、业务流程及负载情况">场景：一个真实电商订单系统的整体架构、业务流程及负载情况</a><time datetime="2024-01-03T02:58:50.000Z" title="发表于 2024-01-03 10:58:50">2024-01-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/03/%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%E5%B8%B8%E7%94%A8%E7%9A%84%E4%BA%94%E4%B8%AA%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%9C%BA%E6%99%AF%E5%8F%8A%E5%88%86%E6%9E%90%E5%AE%9E%E7%8E%B0/" title="电商项目常用的五个设计模式场景及分析实现">电商项目常用的五个设计模式场景及分析实现</a><time datetime="2024-01-03T02:28:55.000Z" title="发表于 2024-01-03 10:28:55">2024-01-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/11/Java%E7%AC%94%E8%AE%B0/" title="Java笔记">Java笔记</a><time datetime="2023-12-11T06:03:03.000Z" title="发表于 2023-12-11 14:03:03">2023-12-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/27/Java23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="Java23种设计模式">Java23种设计模式</a><time datetime="2023-11-27T04:50:33.000Z" title="发表于 2023-11-27 12:50:33">2023-11-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/26/Activiti%E5%B7%A5%E4%BD%9C%E6%B5%81-%E5%9F%BA%E7%A1%80%E7%89%87/" title="Activiti工作流-基础片">Activiti工作流-基础片</a><time datetime="2023-11-26T14:37:03.000Z" title="发表于 2023-11-26 22:37:03">2023-11-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Docker</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>